# SubTract Pipeline Configuration Example
# This file shows all available configuration options

paths:
  base_path: /path/to/project
  data_dir: /path/to/bids/dataset
  analysis_dir: /path/to/derivatives/subtract
  result_dir: /path/to/derivatives/subtract/results
  script_dir: /path/to/code

bids:
  validate_bids: true
  bids_version: "1.8.0"
  sessions: null  # null = all sessions, or specify: ["baseline", "followup"]
  tasks: null     # null = all tasks, or specify: ["rest", "task"]
  runs: null      # null = all runs, or specify: ["1", "2"]
  dwi_suffixes: ["dwi"]
  phase_encoding_directions: ["AP", "PA", "LR", "RL"]
  required_dwi_files: ["dwi.nii.gz", "dwi.bval", "dwi.bvec"]
  optional_files: ["dwi.json", "T1w.nii.gz", "T2w.nii.gz"]

processing:
  n_threads: 24
  force_overwrite: false
  denoise_method: "dwidenoise"
  topup_config: "b02b0.cnf"
  readout_time: null  # Auto-detect from JSON metadata
  eddy_cuda: true
  eddy_method: "eddy_cuda10.2"
  bet_threshold: 0.2
  registration_type: "SyNQuick"
  n_tracks: 5000000
  track_algorithm: "iFOD2"
  sift2_term_ratio: 0.1

rois:
  roi_names:
    - "Amyg_L_MNI"
    - "Amyg_R_MNI"
    - "BNST_L_MNI"
    - "BNST_R_MNI"
    - "Hipp_L_MNI"
    - "Hipp_R_MNI"
    - "Insl_L_MNI"
    - "Insl_R_MNI"
    - "vmPF_L_MNI"
    - "vmPF_R_MNI"
    - "Hypo_L_MNI"
    - "Hypo_R_MNI"
  target_rois:
    - "BNST_L"
    - "BNST_R"

quality_control:
  generate_qc_reports: true
  qc_metrics:
    - "motion"
    - "signal_dropout"
    - "coverage"
  outlier_detection: true

# Pipeline steps to run (in order)
steps_to_run:
  - "copy_data"
  - "denoise"
  - "topup"
  - "eddy"
  - "registration"
  - "mdt"
  - "mrtrix_prep"
  - "tractography"
  - "sift2"
  - "roi_registration"
  - "connectome"

# Subject filtering (regex pattern)
subject_filter: null  # null = all subjects, or specify pattern like "^(001|002)$" 